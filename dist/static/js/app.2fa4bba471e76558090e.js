webpackJsonp([0],{"3wPJ":function(e,t){},"6Xyw":function(e,t){},E0Aq:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("kV13"),s=o("3cXf"),l=o.n(s),i={props:{addTodo:Function},data:function(){return{title:""}},methods:{add:function(){var e=this.title.trim();if(e){var t={title:e,completed:!1};this.addTodo(t),this.title=""}else alert("任务名称必须输入")}}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo-header"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入你的任务名称，按回车键确认"},domProps:{value:e.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add(t)},input:function(t){t.target.composing||(e.title=t.target.value)}}})])},staticRenderFns:[]};var r=o("C7Lr")(i,d,!1,function(e){o("v4mo")},null,null).exports,c={props:{todos:Array,deleteCompleteTodos:Function,selectAllTodos:Function},computed:{completeSize:function(){return this.todos.reduce(function(e,t){return e+(t.iscompleted?1:0)},0)},isAllCheck:{get:function(){return this.completeSize===this.todos.length&&this.completeSize>0},set:function(e){this.selectAllTodos(e)}}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo-footer"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.isAllCheck,expression:"isAllCheck"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAllCheck)?e._i(e.isAllCheck,null)>-1:e.isAllCheck},on:{change:function(t){var o=e.isAllCheck,n=t.target,s=!!n.checked;if(Array.isArray(o)){var l=e._i(o,null);n.checked?l<0&&(e.isAllCheck=o.concat([null])):l>-1&&(e.isAllCheck=o.slice(0,l).concat(o.slice(l+1)))}else e.isAllCheck=s}}})]),e._v(" "),o("span",[o("span",[e._v("已完成"+e._s(e.completeSize))]),e._v(" / 全部"+e._s(e.todos.length)+"\n  ")]),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:e.completeSize>0,expression:"completeSize>0"}],staticClass:"btn btn-danger",on:{click:e.deleteCompleteTodos}},[e._v("清除已完成任务")])])},staticRenderFns:[]};var u=o("C7Lr")(c,a,!1,function(e){o("lu8v")},null,null).exports,p={props:{todo:Object,index:Number,deleteTodo:Function},data:function(){return{bgcolor:"white",isshow:!1}},methods:{handleEnter:function(e){e?(this.bgcolor="gray",this.isshow=!0):(this.bgcolor="white",this.isshow=!1)},deleteItem:function(){var e=this.todo,t=this.index,o=this.deleteTodo;window.confirm("确认删除"+e.title+"吗？")&&o(t)}}},m={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{style:{background:e.bgcolor},on:{mouseenter:function(t){return e.handleEnter(!0)},mouseleave:function(t){return e.handleEnter(!1)}}},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.todo.iscompleted,expression:"todo.iscompleted"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.todo.iscompleted)?e._i(e.todo.iscompleted,null)>-1:e.todo.iscompleted},on:{change:function(t){var o=e.todo.iscompleted,n=t.target,s=!!n.checked;if(Array.isArray(o)){var l=e._i(o,null);n.checked?l<0&&e.$set(e.todo,"iscompleted",o.concat([null])):l>-1&&e.$set(e.todo,"iscompleted",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(e.todo,"iscompleted",s)}}}),e._v(" "),o("span",[e._v(e._s(e.todo.title))])]),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:e.isshow,expression:"isshow"}],staticClass:"btn btn-danger",on:{click:e.deleteItem}},[e._v("删除")])])},staticRenderFns:[]};var h=o("C7Lr")(p,m,!1,function(e){o("E0Aq")},null,null).exports,f={props:{todos:Array,deleteTodo:Function},components:{TodoItem:h}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"todo-main"},e._l(e.todos,function(t,n){return o("TodoItem",{key:n,attrs:{todo:t,index:n,deleteTodo:e.deleteTodo}})}),1)},staticRenderFns:[]};var _={data:function(){return{todos:JSON.parse(window.localStorage.getItem("todos_key")||"[]")}},watch:{todos:{deep:!0,handler:function(e){window.localStorage.setItem("todos_key",l()(e))}}},methods:{addTodo:function(e){this.todos.push(e)},deleteTodo:function(e){this.todos.splice(e,1)},deleteCompleteTodos:function(){this.todos=this.todos.filter(function(e){return!e.iscompleted})},selectAllTodos:function(e){this.todos.forEach(function(t){return t.iscompleted=e})}},components:{TodoHeader:r,TodoList:o("C7Lr")(f,v,!1,function(e){o("3wPJ")},null,null).exports,TodoFooter:u}},k={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo-container"},[o("div",{staticClass:"todo-wrap"},[o("TodoHeader",{attrs:{addTodo:e.addTodo}}),e._v(" "),o("TodoList",{attrs:{todos:e.todos,deleteTodo:e.deleteTodo}}),e._v(" "),o("TodoFooter",{attrs:{todos:e.todos,deleteCompleteTodos:e.deleteCompleteTodos,selectAllTodos:e.selectAllTodos}})],1)])},staticRenderFns:[]};var A=o("C7Lr")(_,k,!1,function(e){o("6Xyw")},null,null).exports;o("o38A");new n.a({el:"#app",components:{App:A},template:"<App/>"})},lu8v:function(e,t){},o38A:function(e,t){},v4mo:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2fa4bba471e76558090e.js.map